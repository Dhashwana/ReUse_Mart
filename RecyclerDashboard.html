<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recycler Dashboard</title>
    <link rel="stylesheet" href="UserDashStyle.css">
</head>
<body>

<nav class="navbar">
    <div class="nav-left">ReUse Mart</div>

    <div class="nav-center">
        <span class="nav-link active">‚ôªÔ∏è Recycle</span>
        <span class="divider">|</span>
        <span class="nav-link" onclick="goToReuse()">üîÅ Reuse</span>
    </div>

    <div class="nav-right">
        <span id="welcomeRecycler">Welcome</span>
        <button id="logoutBtn">Logout</button>
    </div>
</nav>

<div class="dashboard">

    <h2>Recycler Dashboard</h2>

    <div class="cards">
        <div class="card">
            <h3 id="totalRequests">0</h3>
            <p>Total Requests</p>
        </div>
        <div class="card">
            <h3 id="pendingRequests">0</h3>
            <p>Pending</p>
        </div>
        <div class="card">
            <h3 id="acceptedRequests">0</h3>
            <p>Accepted</p>
        </div>
        <div class="card">
            <h3 id="completedRequests">0</h3>
            <p>Completed</p>
        </div>
    </div>

    <!-- NEW CARD GRID -->
    <div class="card-grid" id="recyclerCardGrid"></div>

</div>

<script>
const loggedInUser = JSON.parse(localStorage.getItem("loggedInUser"));

if (!loggedInUser || loggedInUser.role !== "recycler") {
    window.location.href = "Login.html";
}

document.getElementById("welcomeRecycler").innerText =
    "Welcome, " + loggedInUser.name;

document.getElementById("logoutBtn").addEventListener("click", function () {
    localStorage.removeItem("loggedInUser");
    window.location.href = "Login.html";
});

function goToReuse() {
    window.location.href = "Reuse.html";
}
</script>

<script type="module" src="RecycleDashJS.js"></script>
</body>
</html>