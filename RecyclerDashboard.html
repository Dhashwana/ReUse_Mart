<!DOCTYPE html>
<html lang="en">
<head>
    <title>Recycler Dashboard</title>
    <link rel="stylesheet" href="UserDashStyle.css">
</head>
<body>

<!-- Navbar -->
<nav class="navbar">
    <div class="nav-left">
        ReUse Mart
    </div>

    <div class="nav-center">
        <span class="nav-link active">‚ôªÔ∏è Recycle</span>
        <span class="divider">|</span>
        <span class="nav-link" onclick="goToReuse()">üîÅ Reuse</span>
    </div>

    <div class="nav-right">
        <span id="welcomeRecycler">Welcome</span>
        <button id="logoutBtn">Logout</button>
    </div>
</nav>

<div class="dashboard">

    <h2>Recycler Dashboard</h2>

    <!-- Overview Cards -->
    <div class="cards">
        <div class="card">
            <h3 id="totalRequests">0</h3>
            <p>Total Requests</p>
        </div>
        <div class="card">
            <h3 id="pendingRequests">0</h3>
            <p>Pending</p>
        </div>
        <div class="card">
            <h3 id="acceptedRequests">0</h3>
            <p>Accepted</p>
        </div>
        <div class="card">
            <h3 id="completedRequests">0</h3>
            <p>Completed</p>
        </div>
    </div>

    <!-- Requests Table -->
    <table id="recyclerTable">
        <thead>
            <tr>
                <th>User</th>
                <th>Type</th>
                <th>Quantity</th>
                <th>Unit</th>
                <th>Date</th>
                <th>Location</th>
                <th>Status</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

</div>

<!-- SESSION + NAVIGATION SCRIPT -->
<script>

// Check session
const loggedInUser = JSON.parse(localStorage.getItem("loggedInUser"));

if (!loggedInUser || loggedInUser.role !== "recycler") {
    window.location.href = "Login.html";
}

// Show recycler name
document.getElementById("welcomeRecycler").innerText =
    "Welcome, " + loggedInUser.name;

// Logout
document.getElementById("logoutBtn").addEventListener("click", function () {
    localStorage.removeItem("loggedInUser");
    window.location.href = "Login.html";
});

// Navigate to Reuse
function goToReuse() {
    window.location.href = "Reuse.html";
}

</script>

<script src="RecycleDashJS.js"></script>
</body>
</html>
